<!DOCTYPE html> <!-- this tells browser what version of html to expect-->
<html lang = "en">
    <head>  <!-- head = tells browser info about the page -->
        <meta charset = "UTF-8" /> <!-- meta = metadata, charset = character set, UTF-8 is the most common encoding-->

        <meta name = "viewport" content = "width=device-width, initial-scale=1.0" /> <!-- viewport = how the page is displayed on different devices, content = width of the page, initial scale = zoom level-->

        <title>Arya - Projects</title>

        <link rel = "stylesheet" href = "style.css" /> <!-- rel is what the file is, href is our file-->


    </head>


    
    <body> <!-- body = holds everything you would see on the page-->
        
        <nav class = "navbar">

            <div class = "nav-left">

                <a href = "index.html" class = "logo-link">

                    <img src = "logo.svg" alt = "Logo" class = "logo">

                </a>

            </div>
            
            <div class = "nav-right">
                <a href = "projects.html" class = "nav-button">Projects</a>
                <a href = "blog.html" class = "nav-button">Blog</a>
                <a href = "cv.html" class = "nav-button">CV</a>
                <a href = "contact.html" class = "nav-button">Contact</a>

            </div>

        </nav>


        <main class = "page-content">
            <div class = "page-header">
                <h1> Projects </h1>
                <p> Here's some things I've worked on </p>
            </div>

            <div id = "loading" > Loading Projects...</div>

            <div id = "projects-container" class = "projects-grid"></div>

        </main>


        <script>
            const username = 'mathisfun2048';

            async function fetchGitHubRepos() {
                try{
                    const response = await fetch(`https://api.github.com/users/${username}/repos`);
                    const repos = await response.json();
                    displayRepos(repos)
                } catch (error) {
                    document.getElementByID('loading').innerText = 'Error loading projects.';
                }
            }

            function displayRepos(repos) {
                const container = document.getElementById('projects-container');
                const loading = document.getElementById('loading');

                loading.style.display = 'none';


                repos.forEach(repo => {
                    const repoCard = `

                    <div class = "project-card">
                        <h3>${repo.name}</h3>
                        <p>${repo.description || 'no description available'}</p>

                        <div class = "project-links">
                            <a href = "${repo.html_url}" target="_blank">View on GitHub</a>
                            ${repo.homepage ? `<a href = "${repo.homepage}" target="_blank">View Live</a>` : ''}
                        </div>

                        <div class = "project-stats">
                            <span> ${repo.stargazers_count}</span>
                            <span> ${repo.forks_count}</span>
                            <span> ${repo.language || 'Unknown'}</span>
                        </div>

                    </div>

                    `;
                    container.innerHTML += repoCard;

                });
            }
            fetchGitHubRepos();
        </script>
    </body>
</html>